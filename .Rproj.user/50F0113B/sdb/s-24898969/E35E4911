{
    "collab_server" : "",
    "contents" : "# https://druedin.com/2015/07/14/overcoming-warnings-when-importing-spss-files-to-r/\nlibrary(foreign)\nlibrary(dplyr)\n\nss2016 <- read.spss(\"15618_SuomiSyö_2016.sav\", to.data.frame=TRUE, reencode = \"macintosh\")\n\n# saving variable names to a diff dataset\ndataset.labels <- as.data.frame(attr(ss2016, \"variable.labels\"), encoding=\"UTF-8\")\nstr(dataset.labels)\nlevels(dataset.labels) <- gsub(\"\\344\", \"ä\", levels(dataset.labels))\n\n#library(stringr)\n#ss2016 <- str_replace(ss2016, pattern=\"<e4>\", replace =\"ä\")\n#keep <- c(\"k17.5\", \"k67_12\", \"k67_15\", \"k67_16\", \"suuralue\", \"supu\", \"ika\") \n#ss2016-sub <- select(ss2016, one_of(keep))\n\nss16.sub <- select(ss16, k17.5, k67_12, k67_15, k67_16, suuralue, supu, ika, starts_with(\"k18a_\"), starts_with(\"k63.\"), starts_with(\"k51.\"))\n#levels(ss2016.sub) <- gsub(\"\\344\", \"a\", levels(ss2016.sub))\n#ss2016.sub$ <- gsub(\"\\344\", \"a\", ss2016-sub$)\n\n#ss2016.sub <- apply(ss2016.sub, 2, function(x) { \n#  gsub(\"<e4>'\", \"ä\", x)\n#})\n\nss16.sub$k67.comb <- with(ss16.sub,interaction(k67_12, k67_15, k67_16))\n\nss16.sub <- mutate(ss16.sub, lihaton = k67_12 == 12, kasvis = k67_15 == 15, vegaani = k67_16 == 16)\nss16.sub <- select(ss16.sub, -k67_12, -k67_15, -k67_16)\n\n# print out a completeness indicator of the data\ncomplete.cases(ss16.sub)\n\n# print out the data along with a completeness indicator as the last column\ndata.frame(human[-1], comp = complete.cases(human))\n\n# filter out all rows with NA values\nhuman_ <- filter(human, complete.cases(human))\n\n#deal with missing values\n\n\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(GGally)\nlibrary(stringr)\nlibrary(tidyr)\n\n# standardize the variables\nss16_std <- scale(ss16)\n\n# perform principal component analysis (with the SVD method)\npca_1 <- prcomp(ss16)\n\n# draw a biplot of the principal component representation and the original variables\nbiplot(pca_human1, choices = 1:2, cex = c(0.7, 1), col = c(\"grey40\", \"deeppink2\"), main = \" \", sub = \"Figure 2.\")\n#fig.cap = \"caption\"",
    "created" : 1488454317549.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "438122987",
    "id" : "E35E4911",
    "lastKnownWriteTime" : 1488726785,
    "last_content_update" : 1488726785006,
    "path" : "~/IODS-project/fineats/ss-wangling.R",
    "project_path" : "ss-wangling.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}