{
    "collab_server" : "",
    "contents" : "library(dplyr)\n\nhd <- read.csv(\"http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/human_development.csv\", stringsAsFactors = F)\ngii <- read.csv(\"http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/gender_inequality.csv\", stringsAsFactors = F, na.strings = \"..\")\n\nstr(hd)\ndim(hd)\n\nstr(gii)\ndim(gii)\n\n# Rename the variables \nhd_uudet <- c(\"HDI_Rank\", \"Country\", \"HDI_Cap\", \"Life_Exp\", \"Edu_exp\", \"Mean_edu\",\n              \"GNI_Cap\", \"GNI_HDI_Rank\")\ngii_uudet <- c(\"GII_Rank\", \"Country\", \"GII\", \"MatMor\", \"Ado.Birth\", \"Parlament_rep_F\", \"Second_Edu_F\",\n               \"Second_Edu_M\", \"Labour_Part_F\", \"Labour_Part_M\")\n\ncolnames(hd) <- hd_uudet\ncolnames(gii) <- gii_uudet\n\n# new variables for gender inequality\n# the ratio of Female and Male populations with secondary education\ngii <- mutate(gii, FM_Ratio_Edu = Second_Edu_F / Second_Edu_M )\n# the ratio of labour force participation of females and males in each country\ngii <- mutate(gii, FM_Ratio_Lab = Labour_Part_F / Labour_Part_M)\n\n# common columns to use as identifiers\n# join_by <- c(\"Country\")\n\n# join the two datasets by the country\nHD_GII <- inner_join(hd, gii, by = \"Country\") #, suffix = c(\".hd\", \".gii\"))\n\n# just to check\ncolnames(HD_GII)\ndim(HD_GII)\n\n# from here onwards chap5 related stuff:\n\n# Mutate the data: transform the Gross National Income (GNI) variable to numeric \nlibrary(stringr)\nHD_GII$GNI_Cap <- str_replace(HD_GII$GNI_Cap, pattern=\",\", replace =\"\") %>% as.numeric()\n\n# Exclude unneeded variables: keep only selected columns\nkeep <- c(\"Country\", \"FM_Ratio_Edu\", \"FM_Ratio_Lab\", \"Life_Exp\", \"Edu_exp\", \"GNI_Cap\", \"MatMor\", \"Ado.Birth\", \"Parlament_rep_F\")\nHD_GII <- select(HD_GII, one_of(keep))\n\n# Remove all rows with missing values:\n# print out the data along with a completeness indicator as the last column\ndata.frame(HD_GII[-1], comp = complete.cases(HD_GII))\n\n# filter out all rows with NA values\nHD_GII_ <- filter(HD_GII, complete.cases(HD_GII))\n\n# Remove the observations which relate to regions instead of countries\n\n#tail(HD_GII_, n=10) # look at the last 10 observations of human\nlast <- nrow(HD_GII_) - 7 # define the last indice we want to keep\nHD_GII_ <- HD_GII_[1:last,] # choose everything until the last 7 observations\n\n# Define the row names of the data by the country names and remove the country column\n\n# add countries as rownames\nrownames(HD_GII_) <- HD_GII_$Country\n# remove the Country variable\nHD_GII_ <- select(HD_GII_, -Country)\n\ndim(HD_GII_) # for diagnostics\n\nwrite.csv(HD_GII_, file = \"data/human.csv\", row.names = TRUE) #vissiin oletuksena jo true\n\n",
    "created" : 1488748575202.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "113229191",
    "id" : "766BC486",
    "lastKnownWriteTime" : 1487936863,
    "last_content_update" : 1487936863,
    "path" : "~/IODS-project/create_human.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 7,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}